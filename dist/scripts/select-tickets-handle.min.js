!function(){"use strict";if(!$)return;const t=$("#js-reserveForm");if(t){const e=$("#js-reserveChecks :checkbox"),c=$(".js-sceneTable"),s=$("#js-reserveSubmit"),n=$(".js-reserveTickets");n.each((function(){$(this).find("[data-price]").text(0),$(this).find(".reserve__sum").text(0)})),$("#js-totalSum").text(0);const i="scene__table--active";let r=null;try{r=jQuery.parseJSON(t.attr("data-price"))}catch(t){console.error(t)}e.change((function(){const t=$(this).attr("name");c.filter((function(){const e=$(this);e.attr("data-check")==t&&e.toggleClass(i)})),a(),o()})),c.click((function(){$(this).toggleClass(i);const t=$(this).attr("data-check");e.filter((function(){const e=$(this);e.attr("name")==t&&e.prop("checked",!e.prop("checked"))})),a(),o()}));const a=function(){if(null!=r){const t=[{count:0,sum:0},{count:0,sum:0}];e.each((function(){$(this).is(":checked")&&($(this).parent("label").hasClass("check--red")?t[0].count++:t[1].count++)})),t[0].sum=r.red*t[0].count,t[1].sum=r.black*t[1].count,n.each((function(e){$(this).find("[data-price]").text(t[e].count),$(this).find(".reserve__sum").text(t[e].sum)})),$("#js-totalSum").text(t[0].sum+t[1].sum)}},o=function(){s.attr("disabled",!e.is(":checked"))}}}();